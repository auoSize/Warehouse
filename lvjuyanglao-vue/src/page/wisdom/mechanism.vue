<template>
    <div id="mechanism">
      <div class="section_overflow">
        <!--机构养老平台-->
        <div class="section1">
          <div class="section_center">
            <!--<div class="service_title">健康管理云平台</div>-->
            <!--<div class="service_text">以社区为依托、以健康管理云平台为支撑，以智能终端和互联网为纽带，整合社区养老服务设施、服务队伍和社会资源，打造以“健康服务、呼叫救助、 居家照料、档案管理”为中心的智慧养老健康服务体系，为老年人提供综合性的一站式养老服务平台，打造智慧养老服务生态闭环</div>-->

            <!--update 8-17-->
            <div class="service_title">机构养老平台</div>
            <div class="service_text">为养老院、敬老院、福利院等养老机构定制开发的机构养老管理系统，包括养老机构日常运营管理、老人O2O生活超市、亲属行孝APP、护工APP等。通过科学规范的管理，提高养老机构运营效率，加强亲属、老人间的联系，提高老人精神生活水平。</div>

            <div class="service_animation1">
              <div class="ser_width">
                <div class="section_mobile_width1">
                  <ul>
                    <li>
                      <ul class="section-width-li">
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block1_oldman.png" alt=""/><p>老人</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block1_family.png" alt=""/><p>亲属</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block1_supermaket.png" alt=""/><p>商超</p></div>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <ul class="section-width-li1">
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block1_hospital.png" alt=""/><p>机构</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block1_care.png" alt=""/><p>护工</p></div>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <ul class="public_border_radius">
            <li class="active"></li>
          </ul>
          <div class="public_up"></div>
        </div>
        <!--机构养老平台-->

        <!--运营管理系统-->
        <div class="section1 section2">
          <div class="section_center">
            <div class="service_title">运营管理系统</div>
            <div class="service_text">应用于养老院、敬老院、福利院等养老机构专业的运营管理系统，涉及从接待到退房的所有流程。通过明确部门职能，精简业务流程，优化服务项目， 科学规范管理，提高养老机构业务处理效率，减少资源浪费，提升核心竞争力。</div>
            <div class="service_animation service_animation1">
              <div class="ser_width">
                <div class="section_mobile_width section_mobile_width1">
                  <ul class="section1_width" >
                    <li>
                      <ul class="section-width-li">
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_1.png" alt=""/><p>咨询接待</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_2.png" alt=""/><p>老人入住</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_3.png" alt=""/><p>床位管理</p></div>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <ul class="section-width-li">
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_4.png" alt=""/><p>照护管理</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/blcok2_5.png" alt=""/><p>餐饮管理</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_6.png" alt=""/><p>用药管理</p></div>
                        </li>
                      </ul>
                    </li>
                  </ul>
                  <ul class=" section1_width" >
                    <li>
                      <ul class="section-width-li">
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_7.png" alt=""/><p>库存管理</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_8.png" alt=""/><p>统计分析</p></div>
                        </li>
                        <li>
                          <div class="animation_img"><img src="../../../static/image/serviceMechanism/block2_9.png" alt=""/><p>系统管理</p></div>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <ul class="public_border_radius">
            <li class="active"></li>
            <li></li>
          </ul>
          <div class="public_up"></div>
        </div>
        <!--运营管理系统-->

        <!--o2o生活超市-->
        <div  class="section1 section3">
          <div class="section_center">
            <div class="service_title">o2o生活超市</div>
            <div class="service_text">结合线上线下的O2O生活超市，老人可在线下自由购买日常生活用品、健康饮食等，亲属子女也可通过O2O线上超市，为老人远程购买、在线充值等。</div>
            <div class="service_animation1">
              <div class="ser_width">
                <div class="section_mobile_width1">
                  <ul class="section1_width1">
                    <li class="section1_width_lid">
                      <div class="animation_img3"><img src="../../../static/image/serviceMechanism/block3.png" alt=""/></div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <ul class="public_border_radius">
          </ul>
          <div class="public_up"></div>
        </div>
        <!--o2o生活超市-->

        <!--亲属行孝APP-->
        <div   class="section1 section3 section4">
          <div class="section_center">
            <div class="service_title">亲属行孝APP</div>
            <div class="service_text">亲属可实时关注老人健康信息、查看老人享受服务、老人位置信息等，也可以通过亲属APP为老人购买商品、为老人账户充值缴费等。</div>
            <div class="section4_animation">
              <div class="section4_con">
                <ul class="section1_width1">
                  <li class="section1_width_lid">
                    <div class="animation_img4"><img src="../../../static/image/serviceMechanism/block4.png" alt=""/></div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="public_up"></div>
        </div>
        <!--亲属行孝APP-->

        <!--护工APP-->
        <div  class="section1 section3 section5">
          <div class="section_center">
            <div class="service_title">护工APP</div>
            <div class="service_text">通过护工APP，护工可随时关注老人信息，及时为老人服务，记录老人身体状况信息等。</div>
            <div class="service_animation1">
              <div class="ser_width1">
                <div class="section_mobile_width1">
                  <ul class="section1_width1">
                    <li class="section1_width_lid">
                      <div class="animation_img5"><img src="../../../static/image/serviceMechanism/block5.png" alt=""/></div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <ul class="public_border_radius"></ul>
          <div class="public_up"></div>
        </div>
        <!--护工APP-->

      </div>

    </div>
</template>


<script>
  import $ from  'jquery'

  export default {
    data(){
      return{}
    },
    mounted(){
      $('body,html').scrollTop(0);

      $(function(){
        $('.section1').height($(window).height());
        var   ser_width = $('.ser_width').eq(0),
          service_animation = ser_width.parent('.service_animation'),
          section_mobile_width = ser_width.find('.section_mobile_width'),
          section_width = ser_width.find('.section_width'),
          eq_width = section_width.eq(0).width(),
          section_width_length = section_width.length,
          _touchX = 0,
          parent = ser_width.parents('.section1').find('.public_border_radius'),
          j = 0,
          html = '';

        for(var i = 0;i < section_width_length ;i++){
          if(i == 0){
            html += '<li class="active"></li>';
          }else{
            html += '<li></li>';
          }

        }

//        parent.html(html).css({marginLeft:-parent.width()/2});
        parent.css({marginLeft:-parent.width()/2});

        ser_width.on('touchstart',function(e){
          e.preventDefault();
          _touchX = e.originalEvent.targetTouches[0].pageX;
        });
        ser_width.on('touchend',function(e){
          var _touch = e.originalEvent.changedTouches[0];
          var _x= _touch.pageX;
          if(_touchX - _x > 5 && j < section_width_length - 1){
            j++;
            section_mobile_width.animate({marginLeft:-eq_width * j});
          }else if(_touchX - _x < -5 && j > 0){

            j--;
            section_mobile_width.animate({marginLeft:-eq_width * j});
          }
          parent.find('li').eq(j).addClass('active').siblings().removeClass('active');
          e.preventDefault();
        });
      });
      $(function(){
        $('.section1').height($(window).height());
        var   ser_width = $('.ser_width').eq(1),
          section_mobile_width = ser_width.find('.section_mobile_width'),
          section_width = ser_width.find('.section1_width'),
          eq_width = section_width.eq(0).width(),
          section_width_length = section_width.length,
          _touchX = 0,
          parent = ser_width.parents('.section1').find('.public_border_radius'),
          x = 0,
          html = '';

        for(var i = 0;i < section_width_length ;i++){
          if(i == 0){
            html += '<li class="active"></li>';
          }else{
            html += '<li></li>';
          }

        }

//        parent.html(html).css({marginLeft:-parent.width()/2});
        parent.css({marginLeft:-parent.width()/2});

        ser_width.on('touchstart',function(e){
          e.preventDefault();
          _touchX = e.originalEvent.targetTouches[0].pageX;
        });
        ser_width.on('touchend',function(e){

          var _touch = e.originalEvent.changedTouches[0];
          var _x= _touch.pageX;
          if(_touchX - _x > 5 && x < section_width_length - 1){
            x++;
            section_mobile_width.animate({marginLeft:-eq_width * x});
          }else if(_touchX - _x < -5 && x > 0){
            x--;
            section_mobile_width.animate({marginLeft:-eq_width * x});
          }
          parent.find('li').eq(x).addClass('active').siblings().removeClass('active');
          e.preventDefault();
        });
      })
      $(function(){
        $('.section1').height($(window).height());
        var   ser_width = $('.ser_width').eq(2),
          section_mobile_width = ser_width.find('.section_mobile_width'),
          section_width = ser_width.find('.section1_width'),
          eq_width = section_width.eq(0).width(),
          section_width_length = section_width.length,
          _touchX = 0,
          parent = ser_width.parents('.section1').find('.public_border_radius'),
          y = 0,
          html = '';

        for(var i = 0;i < section_width_length ;i++){
          if(i == 0){
            html += '<li class="active"></li>';
          }else{
            html += '<li></li>';
          }

        }

//        parent.html(html).css({marginLeft:-parent.width()/2});
        parent.css({marginLeft:-parent.width()/2});

        ser_width.on('touchstart',function(e){
          e.preventDefault();
          _touchX = e.originalEvent.targetTouches[0].pageX;
        });
        ser_width.on('touchend',function(e){

          var _touch = e.originalEvent.changedTouches[0];
          var _x= _touch.pageX;
          if(_touchX - _x > 5 && y < section_width_length - 1){
            y++;
            section_mobile_width.animate({marginLeft:-eq_width * y});
          }else if(_touchX - _x < -5 && y > 0){
            y--;
            section_mobile_width.animate({marginLeft:-eq_width * y});
          }
          parent.find('li').eq(y).addClass('active').siblings().removeClass('active');
          e.preventDefault();
        });
      })

      $(function(){
        $('.section1').height($(window).height());
        var   ser_width =$('.ser_width').eq(3),
          section_mobile_width = ser_width.find('.section_mobile_width'),
          section_width = ser_width.find('.section1_width'),
          eq_width = section_width.eq(0).width(),
          section_width_length = section_width.length,
          _touchX = 0,
          parent = ser_width.parents('.section1').find('.public_border_radius'),
          z = 0,
          html = '';

        for(var i = 0;i < section_width_length ;i++){
          if(i == 0){
            html += '<li class="active"></li>';
          }else{
            html += '<li></li>';
          }

        }

//        parent.html(html).css({marginLeft:-parent.width()/2});
        parent.css({marginLeft:-parent.width()/2});

        ser_width.on('touchstart',function(e){
          e.preventDefault();
          _touchX = e.originalEvent.targetTouches[0].pageX;
        });
        ser_width.on('touchend',function(e){

          var _touch = e.originalEvent.changedTouches[0];
          var _x= _touch.pageX;
          if(_touchX - _x > 5 && z < section_width_length - 1){
            z++;
            section_mobile_width.animate({marginLeft:-eq_width * z});
          }else if(_touchX - _x < -5 && z > 0){
            z--;
            section_mobile_width.animate({marginLeft:-eq_width * z});
          }
          parent.find('li').eq(z).addClass('active').siblings().removeClass('active');
          e.preventDefault();
        });
      })
      $(function(){
        $('.section1').height($(window).height());
        var   ser_width = $('.section6_overflow'),
          section_mobile_width = $('.section6_overflow_width'),
          section6_list = $('.section6_list'),
          eq_width = section6_list.eq(0).width(),
          section_width_length = section6_list.length,
          _touchX = 0,
          parent = ser_width.parents('.section1').find('.public_border_radius'),
          a = 0,
          html = '';

        for(var i = 0;i < section_width_length ;i++){
          if(i == 0){
            html += '<li class="active"></li>';
          }else{
            html += '<li></li>';
          }

        }

//        parent.html(html).css({marginLeft:-parent.width()/2});
        parent.css({marginLeft:-parent.width()/2});

        ser_width.on('touchstart',function(e){
          e.preventDefault();
          _touchX = e.originalEvent.targetTouches[0].pageX;
        });
        ser_width.on('touchend',function(e){

          var _touch = e.originalEvent.changedTouches[0];
          var _x= _touch.pageX;
          if(_touchX - _x > 5 && a < section_width_length - 1){
            a++;
            section_mobile_width.animate({marginLeft:-eq_width * a});
          }else if(_touchX - _x < -5 && a > 0){
            a--;
            section_mobile_width.animate({marginLeft:-eq_width * a});
          }
          parent.find('li').eq(a).addClass('active').siblings().removeClass('active');
          e.preventDefault();
        });
      });
      $(function(){

        var num = 0,
          winHeight = $(window).height(),
          scroll = $("html,body"),
          _touchY = 0,
          section1 =    $('.section1'),
          section =    $('.section'),
          section_overflow = $('.section_overflow'),
          public_up = $('.public_up');
        scroll.animate({scrollTop:0},1);
        if($(window).height() <= 480){
          public_up.hide();
        }else {
          public_up.show();
          section_overflow.on('touchstart', function (e) {
            if ($(e.target).attr('class') == 'public_up') {
              num++;
              scroll.stop().animate({scrollTop: winHeight * num}, 1000);
              _touchY = 0;
            }
            else {
              _touchY = e.originalEvent.targetTouches[0].pageY;
            }
            e.preventDefault();

          });
          section_overflow.on('touchend', function (e) {
            if (!_touchY) {
              return 0
            }
            var _touch = e.originalEvent.changedTouches[0];
            var _x = _touch.pageY;
            if (_touchY - _x > 100 && num < section1.length - 1) {
              e.preventDefault();
              num++;
              scroll.animate({scrollTop: winHeight * num + 'px'}, 1000);
            } else if (_touchY - _x < -100 && num > 0) {
              e.preventDefault();
              num--;
              scroll.stop().animate({scrollTop: winHeight * num + 'px'}, 1000);
            }
            else if (_touchY - _x > 100 && num == section1.length - 1) {
              e.preventDefault();
              scroll.stop().animate({scrollTop: $("html,body").height() + 'px'}, 1000);
            }
          });
        }
      })
    },
    components: {

    },
  }
</script>


<style scoped>
  @import "/static/css/mechanism.css";
  @import "/static/css/public_style.css";
</style>
